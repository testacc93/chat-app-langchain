<!-- <html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Chat app</title>
	</head>
	<body>
		<textarea name="" id="chat-log" cols="100" rows="10"></textarea>
		<input type="text" id="chat-message-input" size="100"><br>
		<input type="button" value="Send" id="chat-message-submit">
	</body>
	<script>
		var ws = new WebSocket('ws://127.0.0.1:8000/ws/sc/')
		ws.onmessage = function(event){
		const data = JSON.parse(event.data)
		document.querySelector('#chat-log').value += "Counselor:" + data.msg + '\n'
		}
		document.getElementById('chat-message-submit').onclick = 
		function(event){

		const messageInputDom = document.getElementById('chat-message-input')
		const message = messageInputDom.value
		document.querySelector('#chat-log').value += "User:" + message + '\n'

		ws.send(JSON.stringify({
		'msg':message
		}))
		messageInputDom.value = ''
		}
	</script>
	</html> -->
{% load static %}
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
		crossorigin="anonymous"></script>
	<title>Document</title>

	<style>
		.mask-custom {
			background: rgba(24, 24, 16, .2);
			border-radius: 2em;
			backdrop-filter: blur(15px);
			border: 2px solid rgba(255, 255, 255, 0.05);
			background-clip: padding-box;
			box-shadow: 10px 10px 10px rgba(46, 54, 68, 0.03);
		}

		body {
			background: linear-gradient(to bottom right, rgba(252, 203, 144, 1), rgba(213, 126, 235, 1));
		}
	</style>
</head>

<body>


	<section class="gradient-custom">
		<div class="container py-5">

			<div class="row">

				<div class="col-md-6 col-lg-5 col-xl-5 mb-4 mb-md-0">

					<h5 class="font-weight-bold mb-3 text-center text-white">User</h5>

					<div class="card mask-custom">
						<div class="card-body">

							<ul class="list-unstyled mb-0">
								<li class="p-2">
									<a href="#!" class="d-flex justify-content-between link-light">
										<div class="d-flex flex-row">
											<img src={% static "coun.jpeg" %} alt="avatar"
												class="rounded-circle d-flex align-self-center me-3 shadow-1-strong"
												width="60">
											<div class="pt-1">
												<p class="fw-bold mb-0">Bot</p>
												<p class="small text-white">Lorem ipsum dolor sit.</p>
											</div>
										</div>
										<div class="pt-1">
											<p class="small text-white mb-1">5 mins ago</p>
											<span class="text-white float-end"><i class="fas fa-check"
													aria-hidden="true"></i></span>
										</div>
									</a>
								</li>
							</ul>

						</div>
					</div>

				</div>

				<div class="col-md-6 col-lg-7 col-xl-7">

					<ul id="parent-li" class="list-unstyled text-white">
						<li class="d-flex justify-content-between mb-4">
							<div class="card mask-custom w-100">
								<div class="card-header d-flex justify-content-between p-3"
									style="border-bottom: 1px solid rgba(255,255,255,.3);">
									<p class="fw-bold mb-0">You</p>
									<p class="text-light small mb-0"><i class="far fa-clock"></i> 13 mins ago</p>
								</div>
								<div class="card-body">
									<p class="mb-0">
										Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium
										doloremque
										laudantium.
									</p>
								</div>
							</div>
							<img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-5.webp" alt="avatar"
								class="rounded-circle d-flex align-self-start ms-3 shadow-1-strong" width="60">
						</li>


						<li class="d-flex justify-content-between mb-4">
							<img src={% static "coun.jpeg" %} alt="avatar"
								class="rounded-circle d-flex align-self-center me-3 shadow-1-strong" width="60">
							<div class="card mask-custom">
								<div class="card-header d-flex justify-content-between p-3"
									style="border-bottom: 1px solid rgba(255,255,255,.3);">
									<p class="fw-bold mb-0">Counselor</p>
									<p class="text-light small mb-0"><i class="far fa-clock"></i> 12 mins ago</p>
								</div>
								<div class="card-body">
									<p class="mb-0">
										Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
										incididunt ut
										labore et dolore magna aliqua.
									</p>
								</div>
							</div>
						</li>


						{% comment %} <li class="d-flex justify-content-between mb-4">
							<img src={% static "coun.jpeg" %} alt="avatar"
								class="rounded-circle d-flex align-self-center me-3 shadow-1-strong" width="60">
							<div class="card mask-custom">
								<div class="card-header d-flex justify-content-between p-3"
									style="border-bottom: 1px solid rgba(255,255,255,.3);">
									<p class="fw-bold mb-0">Counselor</p>
									<p class="text-light small mb-0"><i class="far fa-clock"></i> 10 mins ago</p>
								</div>
								<div class="card-body">
									<p class="mb-0" id="">
										Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
										incididunt ut
										labore et dolore magna aliqua.
									</p>
								</div>
							</div>
						</li> {% endcomment %}
						<li class="mb-3">
							<div class="form-outline form-white">
								<textarea class="form-control" id="chat-message-input" rows="4"></textarea>
								<label class="form-label" for="textAreaExample3">Message</label>
							</div>
						</li>
						<button type="button" class="btn btn-light btn-lg btn-rounded float-end"
							id="chat-message-submit">Send</button>
					</ul>

				</div>

			</div>

		</div>
	</section>
	<script>
		var ws = new WebSocket('ws://127.0.0.1:8000/ws/sc/')
		ws.onmessage = function (event) {
			const data = JSON.parse(event.data)
			// document.querySelector('#chat-log').value += "Counselor:" + data.msg + '\n'
		}

		document.getElementById('chat-message-submit').onclick =
			function (event) {

				const messageInputDom = document.getElementById('chat-message-input')
				const message = messageInputDom.value
				// document.querySelector('#chat-log').value += "User:" + message + '\n'

				// ws.send(JSON.stringify({
				// 'msg':message
				// }))
				// messageInputDom.value = ''



				var li_ele = document.createElement('li')
				li_ele.classList.add("d-flex")
				li_ele.classList.add("justify-content-between")
				li_ele.classList.add("mb-4")
				var img_ele = document.createElement('img')
				img_ele.classList.add("rounded-circle")
				img_ele.classList.add("d-flex")
				img_ele.classList.add("align-self-center")

				img_ele.classList.add("me-3")

				img_ele.classList.add("shadow-1-strong")

				var div_mask = document.createElement('div')
				div_mask.classList.add('card')
				div_mask.classList.add('mask-custom')
				var div_header = document.createElement('div')
				div_header.classList.add('card-header')
				div_header.classList.add('d-flex')
				div_header.classList.add('justify-content-between')
				div_header.classList.add('p3')
				div_header.style.borderBottom = '1px solid rgba(255,255,255,.3)'
				var p_ele = document.createElement('p')
				p_ele.classList.add('fw-bold')
				p_ele.classList.add('mb-0')
				p_ele.innerText = 'Counselor'

				var p_ele_2 = document.createElement('p')
				p_ele.classList.add('text-light')
				p_ele.classList.add('small')
				p_ele.classList.add('mb-0')

				p_ele.innerText = 'Counselor'
				var i_ele = document.getElementById('i')
				i_ele.classList.add('far')
				i_ele.classList.add('fa-clock')

				var div_card_body = document.getElementById("div")
				div_card_body.classList.add('card-body')

				var p_ele_mb0 = document.createElement('p')
				p_ele_mb0.classList.add('mb-0')

				div_card_body.append(p_ele_mb0)

				


				var parent_li = document.getElementById('parent-li')

				div_card_body.appendChild(p_ele)
				div_card_body.appendChild(p_ele_2)
				div_card_body.appendChild(i_ele)



				// parent_li.append(li_ele)

			}
	</script>
</body>

</html>